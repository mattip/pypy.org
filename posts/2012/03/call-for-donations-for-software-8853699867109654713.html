<!DOCTYPE html>
<html prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Call for donations for Software Transactional Memory | PyPy</title>
<link href="../../../assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../../assets/css/styles.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../../rss.xml">
<link rel="canonical" href="https://www.pypy.org/posts/2012/03/call-for-donations-for-software-8853699867109654713.html">
<link rel="icon" href="../../../favicon2.ico" sizes="16x16">
<link rel="icon" href="../../../favicon32x32.ico" sizes="32x32">
<!--[if lt IE 9]><script src="../../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<meta name="author" content="The PyPy Team">
<link rel="prev" href="py3k-status-update-2-4018939509128176130.html" title="Py3k status update #2" type="text/html">
<link rel="next" href="../04/pypy-sprint-in-leipzig-june-22-27-6450601012927549960.html" title="PyPy sprint in Leipzig, Germany (June 22-27)" type="text/html">
<meta property="og:site_name" content="PyPy">
<meta property="og:title" content="Call for donations for Software Transactional Memory">
<meta property="og:url" content="https://www.pypy.org/posts/2012/03/call-for-donations-for-software-8853699867109654713.html">
<meta property="og:description" content="Hi all,

The Software Transactional Memory
call for donations is up.  From the proposal:


Previous attempts on Hardware Transactional Memory focused on parallelizing existing programs written using t">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2012-03-08T18:07:00Z">
<meta property="article:tag" content="stm">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
             <header id="header"><!-- Adapted from https://www.taniarascia.com/responsive-dropdown-navigation-bar --><section class="navigation"><div class="nav-container">
            <div class="brand">
                <a href="../../../index.html">
                    <image id="toplogo" src="../../../images/pypy-logo.svg" width="75px;" alt="PyPy/"></image></a>
            </div>
            <nav><ul class="nav-list">
<li> 
                <a href="#!">Features</a>
                <ul class="nav-dropdown">
<li> <a href="../../../features.html">What is PyPy?</a> </li>  
                    <li> <a href="../../../compat.html">Compatibility</a> </li>  
                    <li> <a href="../../../performance.html">Performance</a> </li>  
                </ul>
</li>
          <li> <a href="../../../download.html">Download</a> </li>  
          <li> <a href="http://doc.pypy.org">Dev Docs</a> </li>  
            <li> 
                <a href="#!">Blog</a>
                <ul class="nav-dropdown">
<li> <a href="../../../blog">Index</a> </li>  
                    <li> <a href="../../../categories">Tags</a> </li>  
                    <li> <a href="../../../archive.html">Archive by year</a> </li>  
                    <li> <a href="../../../rss.xml">RSS feed</a> </li>  
                    <li> <a href="https://morepypy.blogspot.com/">Old site</a> </li>  
                </ul>
</li>
            <li> 
                <a href="#!">About</a>
                <ul class="nav-dropdown">
<li> <a href="https://twitter.com/pypyproject">Twitter</a> </li>  
                    <li> <a href="https://quodlibet.duckdns.org/irc/pypy/latest.log.html#irc-end">IRC</a> </li>  
                    <li> <a href="../../../people.html">People</a> </li>  
                    <li> <a href="../../../howtohelp.html">How To Help?</a> </li>  
                    <li> <a href="../../../contact.html">Contact</a> </li>  
                </ul>
</li>

                </ul></nav><div class="nav-mobile">
                <a id="nav-toggle" href="#!"> <span></span></a>
            </div>
        </div>
    </section></header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><div class="post">
          <header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Call for donations for Software Transactional Memory</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    The PyPy Team
            </span></p>
            <p class="dateline">
            <a href="#" rel="bookmark">
            <time class="published dt-published" datetime="2012-03-08T18:07:00Z" itemprop="datePublished" title="2012-03-08 18:07">2012-03-08 18:07</time></a>
            </p>
            <p class="commentline">  10 comments
</p>
                <p class="commentline">                <a href="call-for-donations-for-software-8853699867109654713.html#utterances-thread">Comments</a>


            
        </p>
</div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
      <p><i>Hi all,</i></p>

<p><i>The <a href="https://pypy.org/tmdonate.html">Software Transactional Memory
call for donations</a> is up.  From the proposal:</i></p>

<table><tr>
<td width="4%"></td>
<td>
Previous attempts on Hardware Transactional Memory focused on parallelizing existing programs written using the <code>thread</code> or <code>threading</code> modules. However, as argued <a href="https://mail.python.org/pipermail/pypy-dev/2012-January/009044.html">here</a>, this may not be the most practical way to achieve real multithreading; it seems that better alternatives would offer good scalability too. Notably, Transactional Memory could benefit any event-based system that is written to dispatch events serially (Twisted-based, most GUI toolkit, Stackless, gevent, and so on). The events would internally be processed in parallel, while maintaining the illusion of serial execution, with all the corresponding benefits of safety. This should be possible with minimal changes to the event dispatchers. This approach has been described by the Automatic Mutual Exclusion work at Microsoft Research, but not been implemented anywhere (to the best of our knowledge).
<br><br>
Note that, yes, this gives you both sides of the coin: you keep using your non-thread-based program (without worrying about locks and their drawbacks like deadlocks, races, and friends), and your programs benefit from all your cores.
<br><br>
In more details, a low-level built-in module will provide the basics to start transactions in parallel; but this module will be only used internally in a tweaked version of, say, a Twisted reactor. Using this reactor will be enough for your existing Twisted-based programs to actually run on multiple cores. You, as a developer of the Twisted-based program, have only to care about improving the parallelizability of your program (e.g. by splitting time-consuming transactions into several parts; the exact rules will be published in detail once they are known).
</td>
<td width="4%"></td>
</tr></table>
<p><i>The point is that your program is always <i>correct</i>, and can be tweaked to improve performance.  This is the opposite from what explicit threads and locks give you, which is a performant program which you need to tweak to remove bugs.  Arguably, this approach is the reason for why you use Python in the first place :-)</i></p>

<p><i>Armin</i></p>
      </div>
      <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../categories/stm.html" rel="tag">stm</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="py3k-status-update-2-4018939509128176130.html" rel="prev" title="Py3k status update #2">Previous post</a>
            </li>
            <li class="next">
                <a href="../04/pypy-sprint-in-leipzig-june-22-27-6450601012927549960.html" rel="next" title="PyPy sprint in Leipzig, Germany (June 22-27)">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                <div class="comment-level comment-level-1">
      <div class="comment comment-2048072898193933227">
        <div class="comment-header">
          <a name="comment-2048072898193933227"></a>
            <span class="author">Konstantine Rybnikov</span> wrote on <span class="date">2012-03-08 21:13</span>:
        </div>
        <div class="comment-content">
          <p>Great news, really looking into experimenting with that, good luck!<br><br>My question is: will it map to os thread being created on each event dispatch or can it potentially be somehow optimized? I mean, you can potentially end up with code that has tons of small events, and creating os thread on each event would slow down your program.</p>
        </div>
      </div>
      <div class="comment comment-2803441516229718784">
        <div class="comment-header">
          <a name="comment-2803441516229718784"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2012-03-08 23:22</span>:
        </div>
        <div class="comment-content">
          <p>@k_bx it's not like that at all. There are links in the proposal that may enlighten, depending on what you already know.</p>
        </div>
      </div>
      <div class="comment comment-7895526174732297401">
        <div class="comment-header">
          <a name="comment-7895526174732297401"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2012-03-09 01:49</span>:
        </div>
        <div class="comment-content">
          <p>Indeed, it is creating a pool of N threads and reusing them, where N is configurable.  Ideally it should default to the number of cores you have, detected in some (sadly non-portable) way.</p>
        </div>
      </div>
      <div class="comment comment-8669130059244413455">
        <div class="comment-header">
          <a name="comment-8669130059244413455"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2012-03-09 09:06</span>:
        </div>
        <div class="comment-content">
          <p>Are any of you affiliated with a university? Since this is research, maybe you can get a grant for a post-doc or a PhD position.</p>
        </div>
      </div>
      <div class="comment comment-6334632753942852622">
        <div class="comment-header">
          <a name="comment-6334632753942852622"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2012-03-09 10:03</span>:
        </div>
        <div class="comment-content">
          <p>Trivial comment - on the donation page in the "What is Transactional Memory?" section, I think a (TM) has been turned into a superscript TM (as in trademark).</p>
        </div>
      </div>
      <div class="comment comment-6321939394852410496">
        <div class="comment-header">
          <a name="comment-6321939394852410496"></a>
            <span class="author">Steve Phillips</span> wrote on <span class="date">2012-03-10 00:50</span>:
        </div>
        <div class="comment-content">
          <p>This sounds exciting for the kinds of Python programs that would benefit from TM, but can anyone give a ballpark estimate of what percentage of programs that might be?<br><br>Personally, I write various (non-evented) Python scripts (replacements for Bash scripts, IRC bot, etc) and do a lot of Django web dev.  It's not clear that I or similar people would benefit from Transactional Memory.<br><br>Is that correct?</p>
        </div>
      </div>
      <div class="comment comment-3660931603651307277">
        <div class="comment-header">
          <a name="comment-3660931603651307277"></a>
            <span class="author">Anonymous</span> wrote on <span class="date">2012-03-10 01:23</span>:
        </div>
        <div class="comment-content">
          <p>Could u update the donation page? It doesn't seem to be tallying the amounts.<br><br>I am really excited to see this work even if it is pure research (I donated $200). It would be awesome if<br><br>stm:<br>....pre:<br>........# init transaction state<br>....trans:<br>........# parallel stuff<br><br>So it would be easy to retry failed transactions or be able to reorder them for contention or perf.</p>
        </div>
      </div>
      <div class="comment comment-1248553685063980247">
        <div class="comment-header">
          <a name="comment-1248553685063980247"></a>
            <span class="author">kurdakov</span> wrote on <span class="date">2012-03-17 17:07</span>:
        </div>
        <div class="comment-content">
          <p>offtopic:<br><br>there is a project to help bring C# and C++ together<br><br>https://github.com/mono/cxxi<br>and fork https://github.com/kthompson/cxxi <br><br>in essence: there is a generation step which allows then to easily use C++ objects in C# and vice versa.<br><br>considering that ctypes are very much like p/invoke, it looks like pypy might have something similar for python/C++ environments , this might allow much easier to port, for example, Blender to use pypy as scripting language.</p>
        </div>
      </div>
      <div class="comment comment-3658413981857277481">
        <div class="comment-header">
          <a name="comment-3658413981857277481"></a>
            <span class="author">Arne Babenhauserheide</span> wrote on <span class="date">2012-03-22 14:08</span>:
        </div>
        <div class="comment-content">
          <p>Could you post an example snippet of code which would benefit from that? <br><br>I ask because I have trouble really imagining example code.<br><br>Something minimal with the least possible amount of extension modules which I could just throw into the pypy and pypy-tm interpreter and see the difference.</p>
        </div>
      </div>
      <div class="comment comment-3281850216528291407">
        <div class="comment-header">
          <a name="comment-3281850216528291407"></a>
            <span class="author">Armin Rigo</span> wrote on <span class="date">2012-04-02 15:12</span>:
        </div>
        <div class="comment-content">
          <p>I wrote a minimal example here:<br><br>https://foss.heptapod.net/pypy/pypy/-/tree/branch//stm-gc/lib_pypy/transaction.py</p>
        </div>
      </div>
         </div>

          </section>
</div>
    <div class="sidebar">
<div>
  <h2>
    The PyPy blogposts
  </h2>
  <div>
    Create a guest post via a PR to the <a href="https://github.com/pypy/pypy.org">source repo</a>
  </div>
</div>
    <div id="global-recent-posts">
    <h2>
      Recent Posts
    </h2>
    <ul class="post-list">
      <li>
        <a href="/posts/2020/12/mac-meets-arm64-940822335619099039.html" class="listtitle">Mac meets Arm64</a>
      </li>
      <li>
        <a href="/posts/2020/11/pypy-733-triple-release-python-37-36-3446596804408262749.html" class="listtitle">PyPy 7.3.3 triple release: python 3.7, 3.6, and 2.7</a>
      </li>
      <li>
        <a href="/posts/2020/09/pypy-732-triple-release-python-27-36-3980901335490872787.html" class="listtitle">PyPy 7.3.2 triple release: python 2.7, 3.6, and 3.7</a>
      </li>
      <li>
        <a href="/posts/2020/08/pypy-is-on-open-collective-5673322428814364737.html" class="listtitle">PyPy is on Open Collective</a>
      </li>
      <li>
        <a href="/posts/2020/08/a-new-chapter-for-pypy-8388322709667328389.html" class="listtitle">A new chapter for PyPy</a>
      </li>
      <li>
        <a href="/posts/2020/04/pypy-731-released-6266451647387657480.html" class="listtitle">PyPy 7.3.1 released</a>
      </li>
      <li>
        <a href="/posts/2020/03/leysin-2020-sprint-report-764567777353955897.html" class="listtitle">Leysin 2020 Sprint Report</a>
      </li>
      <li>
        <a href="/posts/2020/02/pypy-and-cffi-have-moved-to-heptapod-5791595152472747032.html" class="listtitle">PyPy and CFFI have moved to Heptapod</a>
      </li>
      <li>
        <a href="/posts/2020/01/leysin-winter-sprint-2020-feb-28-march-6349761524797409012.html" class="listtitle">Leysin Winter sprint 2020: Feb 29 - March 8th</a>
      </li>
      <li>
        <a href="/posts/2019/12/pypy-730-released-3614026620096963655.html" class="listtitle">PyPy 7.3.0 released</a>
      </li>
    </ul>
  </div>

          <div id="global-archive-list">
          <h2>
            Archives
          </h2>
          <ul class="archive-level archive-level-1">
            <li><a class="reference" href="/2007/">2007</a> (19)
            </li>
            <li><a class="reference" href="/2008/">2008</a> (62)
            </li>
            <li><a class="reference" href="/2009/">2009</a> (38)
            </li>
            <li><a class="reference" href="/2010/">2010</a> (44)
            </li>
            <li><a class="reference" href="/2011/">2011</a> (43)
            </li>
            <li><a class="reference" href="/2012/">2012</a> (44)
            </li>
            <li><a class="reference" href="/2013/">2013</a> (46)
            </li>
            <li><a class="reference" href="/2014/">2014</a> (22)
            </li>
            <li><a class="reference" href="/2015/">2015</a> (20)
            </li>
            <li><a class="reference" href="/2016/">2016</a> (20)
            </li>
            <li><a class="reference" href="/2017/">2017</a> (13)
            </li>
            <li><a class="reference" href="/2018/">2018</a> (12)
            </li>
            <li><a class="reference" href="/2019/">2019</a> (12)
            </li>
            <li><a class="reference" href="/2020/">2020</a> (9)
            </li>
          </ul>
        </div>


          <div id="global-tag-list">
          <h2>
            Tags
          </h2>
          <ul>
            <li><a class="reference" href="/categories/arm.html">arm</a> (1)</li>
            <li><a class="reference" href="/categories/cli.html">cli</a> (1)</li>
            <li><a class="reference" href="/categories/compiler.html">compiler</a> (1)</li>
            <li><a class="reference" href="/categories/cpyext.html">cpyext</a> (3)</li>
            <li><a class="reference" href="/categories/cpython.html">CPython</a> (3)</li>
            <li><a class="reference" href="/categories/ep2008.html">ep2008</a> (1)</li>
            <li><a class="reference" href="/categories/extension-modules.html">extension modules</a> (2)</li>
            <li><a class="reference" href="/categories/graalpython.html">GraalPython</a> (1)</li>
            <li><a class="reference" href="/categories/hpy.html">hpy</a> (1)</li>
            <li><a class="reference" href="/categories/heptapod.html">Heptapod</a> (1)</li>
            <li><a class="reference" href="/categories/jit.html">jit</a> (18)</li>
            <li><a class="reference" href="/categories/jython.html">jython</a> (1)</li>
            <li><a class="reference" href="/categories/kcachegrind.html">kcachegrind</a> (1)</li>
            <li><a class="reference" href="/categories/numpy.html">numpy</a> (24)</li>
            <li><a class="reference" href="/categories/parser.html">parser</a> (1)</li>
            <li><a class="reference" href="/categories/profiling.html">profiling</a> (1)</li>
            <li><a class="reference" href="/categories/pypy.html">pypy</a> (6)</li>
            <li><a class="reference" href="/categories/pypy3.html">pypy3</a> (16)</li>
            <li><a class="reference" href="/categories/pyqt4.html">PyQt4</a> (1)</li>
            <li><a class="reference" href="/categories/release.html">release</a> (47)</li>
            <li><a class="reference" href="/categories/releasecffi.html">releasecffi</a> (3)</li>
            <li><a class="reference" href="/categories/releasepypy.html">releasepypy</a> (1)</li>
            <li><a class="reference" href="/categories/releaserevdb.html">releaserevdb</a> (1)</li>
            <li><a class="reference" href="/categories/releasestm.html">releasestm</a> (1)</li>
            <li><a class="reference" href="/categories/revdb.html">revdb</a> (1)</li>
            <li><a class="reference" href="/categories/roadmap.html">roadmap</a> (1)</li>
            <li><a class="reference" href="/categories/rpyc.html">RPyC</a> (1)</li>
            <li><a class="reference" href="/categories/speed.html">speed</a> (3)</li>
            <li><a class="reference" href="/categories/sprint.html">sprint</a> (3)</li>
            <li><a class="reference" href="/categories/stm.html">stm</a> (14)</li>
            <li><a class="reference" href="/categories/sun.html">sun</a> (1)</li>
            <li><a class="reference" href="/categories/smalltalk.html">Smalltalk</a> (1)</li>
            <li><a class="reference" href="/categories/squeak.html">Squeak</a> (1)</li>
            <li><a class="reference" href="/categories/unicode.html">unicode</a> (1)</li>
            <li><a class="reference" href="/categories/valgrind.html">valgrind</a> (1)</li>
          </ul>
        </div>    </div>
</article></main><footer id="footer"><p>
</p>
<div class="myfooter">
  <div>
    <img src="../../../images/pypy-logo-nav-grey.png" alt="PyPy Logo">
</div>
  <div class="logotext">
     Contents © 2021 <a href="mailto:pypy-dev@pypy.org">The PyPy Team</a>
    Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a> 
  </div>
  <div style="margin-left: auto">
  <a href="rss.xml">RSS feed</a>
</div>

            
        

    </div>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" crossorigin="anonymous"></script><script src="../../../assets/js/styles.js"></script></footer>
</div>
</body>
</html>
